<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Home ğŸ’–</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="box" role="main" aria-labelledby="welcome-title">
    <h2 id="welcome-title">Welcome home, Halle! ğŸ‰</h2>
    <p style="font-size: 1.1em; margin-bottom: 1.5em;">
      <bold>Happy 10 months!</bold><br>
      I made this just for you, to celebrate our ten amazing months together. I hope that you feel loved and cherished every time you visit. Relax, and stay awhile!<br>
      <span style="color: #f28482; font-weight: bold;">I love you! (to infinity and beyond)</span>
    </p>
    <img src="src/heart_pixel.png" alt="Pixel Heart" style="width: 64px; margin-bottom: 1em;" />
  <p class="small" style="margin-top: 2em; color: #5a4a42; font-size: 1.1em;">
      â€” With all my love, Cody A.K.A. Honey Bunny ğŸ’–
    </p>
  </div>

  <div class="scroll-hint">
    <img src="src/arrow_down.png" alt="" aria-hidden="true" />
    <span>Scroll down to explore!</span>
  </div>

  <section class="quick-links constellation" aria-label="Explore Halle's gift">
    <svg class="constellation__lines" viewBox="0 0 100 100" aria-hidden="true">
      <path class="constellation__path" d="M50 14 C40 0 8 14 12 42 C14 58 26 72 50 86 C74 72 86 58 88 42 C92 14 60 0 50 14 Z" fill="none" />
      <polyline class="constellation__connect" points="30,20 18,36 22,52 36,68 50,82 64,68 78,52 82,36 70,20 50,14 30,20" fill="none" />
      <circle class="constellation__node" cx="30" cy="20" r="1.9" />
      <circle class="constellation__node" cx="18" cy="36" r="1.7" />
      <circle class="constellation__node" cx="22" cy="52" r="1.5" />
      <circle class="constellation__node" cx="36" cy="68" r="1.6" />
      <circle class="constellation__node" cx="50" cy="82" r="1.9" />
      <circle class="constellation__node" cx="64" cy="68" r="1.6" />
      <circle class="constellation__node" cx="78" cy="52" r="1.5" />
      <circle class="constellation__node" cx="82" cy="36" r="1.7" />
      <circle class="constellation__node" cx="70" cy="20" r="1.9" />
      <circle class="constellation__node" cx="50" cy="14" r="1.7" />
    </svg>

    <a class="quick-card quick-card--garden" href="GardenSim/index.html" data-star="1">
      <span class="quick-card__icon" aria-hidden="true">ğŸŒ·</span>
      <div class="quick-card__content">
        <h3>Halle's Garden</h3>
        <p>Visit your own special garden that you can care for and grow whenever you need a peaceful escape.</p>
        <span class="quick-card__cta">Enter the garden</span>
      </div>
    </a>

    <a class="quick-card" href="gallery.html" data-star="2">
      <span class="quick-card__icon" aria-hidden="true">ğŸ“¸</span>
      <div class="quick-card__content">
        <h3>Photo Memories Gallery</h3>
        <p>Flip through our favorite snapshots and relive each smile, each adventure, and every little moment that makes us, us.</p>
        <span class="quick-card__cta">Open gallery</span>
      </div>
    </a>

    <a class="quick-card" href="javascript:void(0)" aria-disabled="true" data-star="3">
      <span class="quick-card__icon" aria-hidden="true">ğŸ’Œ</span>
      <div class="quick-card__content">
        <h3>Love Letters &amp; Journal</h3>
        <p>A cozy place for handwritten notes and little stories about us. All written by yours truly, Cody.</p>
        <span class="quick-card__cta">Read letters</span>
      </div>
    </a>

    <a class="quick-card" href="javascript:void(0)" aria-disabled="true" data-star="4">
      <span class="quick-card__icon" aria-hidden="true">ğŸ²</span>
      <div class="quick-card__content">
        <h3>Personal Message Generator</h3>
        <p>Need a little pick-me-up? Spin up a sweet surprise anytimeâ€”each message is handpicked to brighten your day.</p>
        <span class="quick-card__cta">Generate message</span>
      </div>
    </a>

    <a class="quick-card" href="javascript:void(0)" aria-disabled="true" data-star="5">
      <span class="quick-card__icon" aria-hidden="true">ğŸŒ±</span>
      <div class="quick-card__content">
        <h3>Our Future Plans</h3>
        <p>Keep an eye on every adventure and cozy dream weâ€™re building together, one step at a time, hand in hand.</p>
        <span class="quick-card__cta">See our roadmap</span>
      </div>
    </a>

    <a class="quick-card quick-card--playlist" href="https://open.spotify.com/playlist/3m7m1DW1KQlyTXDfuZIlWZ" target="_blank" rel="noopener" data-star="6">
      <span class="quick-card__icon" aria-hidden="true">ğŸ¶</span>
      <div class="quick-card__content">
        <h3>Our Love Playlist</h3>
        <p>The soundtrack to our love story. Pop it open to enjoy the melodies that always bring us back to each other.</p>
        <span class="quick-card__cta">Listen on Spotify</span>
      </div>
    </a>

    <a class="quick-card quick-card--journal" href="journal.html" data-star="7">
      <span class="quick-card__icon" aria-hidden="true">ğŸ“</span>
      <div class="quick-card__content">
        <h3>Halle's Heart Journal</h3>
        <p>Capture how you feel today, save your thoughts, and watch a little happiness graph bloom over time.</p>
        <span class="quick-card__cta">Open your journal</span>
      </div>
    </a>
  </section>
  <script>
    // Two-tap behavior: first tap expands, second tap navigates.
    (function () {
      const cards = Array.from(document.querySelectorAll('.quick-card'));

      function collapseAll(except) {
        cards.forEach(c => {
          if (c !== except) {
            c.classList.remove('is-expanded');
            // clear dynamic inline adjustments so star positions restore
            c.style.removeProperty('--shift-x');
            c.style.removeProperty('--shift-y');
            c.style.removeProperty('--expanded-width');
            c.style.removeProperty('--expanded-height');
            c.style.removeProperty('top');
            c.style.removeProperty('left');
          }
        });
      }

      function sizeAndNudgeToFit(card) {
        // reset any previous adjustments
        card.style.removeProperty('--shift-x');
        card.style.removeProperty('--shift-y');
        card.style.removeProperty('--expanded-width');
        card.style.removeProperty('--expanded-height');

        const vw = window.innerWidth;
        const vh = window.innerHeight;
        const margin = Math.max(12, Math.min(24, Math.floor(vw * 0.04))); // clamp(12px,4vw,24px) approx

        // After expanded styles apply, measure and correct
        requestAnimationFrame(() => {
          let rect = card.getBoundingClientRect();

          // 1) Limit width if too wide for viewport
          const maxWidth = vw - margin * 2;
          if (rect.width > maxWidth) {
            card.style.setProperty('--expanded-width', `${maxWidth}px`);
          }

          // Re-measure after width change
          rect = card.getBoundingClientRect();

          // 2) Nudge horizontally to keep within viewport
          let shiftX = 0;
          if (rect.left < margin) {
            shiftX = margin - rect.left; // push right
          } else if (rect.right > vw - margin) {
            shiftX = (vw - margin) - rect.right; // pull left (negative)
          }

          if (shiftX !== 0) {
            card.style.setProperty('--shift-x', `${Math.round(shiftX)}px`);
          }

          // 3) Nudge vertically if needed (rare but safe)
          let shiftY = 0;
          if (rect.top < margin) {
            shiftY = margin - rect.top; // push down
          } else if (rect.bottom > vh - margin) {
            shiftY = (vh - margin) - rect.bottom; // pull up (negative)
          }
          if (shiftY !== 0) {
            card.style.setProperty('--shift-y', `${Math.round(shiftY)}px`);
          }
        });
      }

      cards.forEach(card => {
        // Skip cards explicitly disabled
        if (card.getAttribute('aria-disabled') === 'true') return;

        card.addEventListener('click', (e) => {
          // If not expanded yet, expand and cancel navigation
          if (!card.classList.contains('is-expanded')) {
            e.preventDefault();
            collapseAll(card);
            card.classList.add('is-expanded');
            try { card.focus({ preventScroll: false }); } catch (_) { /* ignore */ }
            sizeAndNudgeToFit(card);
            return;
          }
          // If already expanded, allow default navigation
          // Also collapse others to clean up when leaving/target=_blank
          collapseAll();
        });
      });

      // Collapse when clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.quick-card')) collapseAll();
      });

      // Collapse on Escape for accessibility
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') collapseAll();
      });

      // Refit on resize/orientation changes
      window.addEventListener('resize', () => {
        const expanded = document.querySelector('.quick-card.is-expanded');
        if (expanded) sizeAndNudgeToFit(expanded);
      });
    })();
  </script>
</body>
</html>